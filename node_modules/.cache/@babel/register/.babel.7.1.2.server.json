{
  "{\"sourceRoot\":\"/home/ayoub/Documents/newStructure/new-frontend/src/server\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/ayoub/Documents/newStructure/new-frontend\",\"filename\":\"/home/ayoub/Documents/newStructure/new-frontend/src/server/alias.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"server\",\"root\":\"/home/ayoub/Documents/newStructure/new-frontend\",\"plugins\":[],\"presets\":[]}:7.1.2:server": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/ayoub/Documents/newStructure/new-frontend/src/server",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/ayoub/Documents/newStructure/new-frontend",
      "filename": "/home/ayoub/Documents/newStructure/new-frontend/src/server/alias.js",
      "babelrc": false,
      "configFile": false,
      "envName": "server",
      "root": "/home/ayoub/Documents/newStructure/new-frontend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/ayoub/Documents/newStructure/new-frontend/src/server/alias.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/home/ayoub/Documents/newStructure/new-frontend/src/server/alias.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/ayoub/Documents/newStructure/new-frontend/src/server",
        "sourceFileName": "alias.js"
      }
    },
    "ast": null,
    "code": "// import moduleAlias from \"module-alias\";\n// import path from \"path\";\nconst moduleAlias = require('module-alias');\n\nconst path = require('path');\n\nmoduleAlias.addAliases({\n  \"ff-shared\": path.resolve(__dirname, \"../shared/\"),\n  \"ff-client\": path.resolve(__dirname, \"../client/\"),\n  \"ff-server\": path.resolve(__dirname, \"../server/\"),\n  \"ff-utils\": path.resolve(__dirname, \"../utils/\")\n});\nmoduleAlias();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsaWFzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZUFsaWFzIiwicmVxdWlyZSIsInBhdGgiLCJhZGRBbGlhc2VzIiwicmVzb2x2ZSIsIl9fZGlybmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBM0I7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFFQUQsV0FBVyxDQUFDRyxVQUFaLENBQXVCO0FBQ3JCLGVBQWFELElBQUksQ0FBQ0UsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLFlBQXhCLENBRFE7QUFFckIsZUFBYUgsSUFBSSxDQUFDRSxPQUFMLENBQWFDLFNBQWIsRUFBd0IsWUFBeEIsQ0FGUTtBQUdyQixlQUFhSCxJQUFJLENBQUNFLE9BQUwsQ0FBYUMsU0FBYixFQUF3QixZQUF4QixDQUhRO0FBSXJCLGNBQVlILElBQUksQ0FBQ0UsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLFdBQXhCO0FBSlMsQ0FBdkI7QUFPQUwsV0FBVyIsInNvdXJjZVJvb3QiOiIvaG9tZS9heW91Yi9Eb2N1bWVudHMvbmV3U3RydWN0dXJlL25ldy1mcm9udGVuZC9zcmMvc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vZHVsZUFsaWFzIGZyb20gXCJtb2R1bGUtYWxpYXNcIjtcbi8vIGltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5jb25zdCBtb2R1bGVBbGlhcyA9IHJlcXVpcmUoJ21vZHVsZS1hbGlhcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxubW9kdWxlQWxpYXMuYWRkQWxpYXNlcyh7XG4gIFwiZmYtc2hhcmVkXCI6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi4vc2hhcmVkL1wiKSxcbiAgXCJmZi1jbGllbnRcIjogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi9jbGllbnQvXCIpLFxuICBcImZmLXNlcnZlclwiOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4uL3NlcnZlci9cIiksXG4gIFwiZmYtdXRpbHNcIjogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi91dGlscy9cIilcbn0pO1xuXG5tb2R1bGVBbGlhcygpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "alias.js"
      ],
      "names": [
        "moduleAlias",
        "require",
        "path",
        "addAliases",
        "resolve",
        "__dirname"
      ],
      "mappings": "AAAA;AACA;AACA,MAAMA,WAAW,GAAGC,OAAO,CAAC,cAAD,CAA3B;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEAD,WAAW,CAACG,UAAZ,CAAuB;AACrB,eAAaD,IAAI,CAACE,OAAL,CAAaC,SAAb,EAAwB,YAAxB,CADQ;AAErB,eAAaH,IAAI,CAACE,OAAL,CAAaC,SAAb,EAAwB,YAAxB,CAFQ;AAGrB,eAAaH,IAAI,CAACE,OAAL,CAAaC,SAAb,EAAwB,YAAxB,CAHQ;AAIrB,cAAYH,IAAI,CAACE,OAAL,CAAaC,SAAb,EAAwB,WAAxB;AAJS,CAAvB;AAOAL,WAAW",
      "sourceRoot": "/home/ayoub/Documents/newStructure/new-frontend/src/server",
      "sourcesContent": [
        "// import moduleAlias from \"module-alias\";\n// import path from \"path\";\nconst moduleAlias = require('module-alias');\nconst path = require('path');\n\nmoduleAlias.addAliases({\n  \"ff-shared\": path.resolve(__dirname, \"../shared/\"),\n  \"ff-client\": path.resolve(__dirname, \"../client/\"),\n  \"ff-server\": path.resolve(__dirname, \"../server/\"),\n  \"ff-utils\": path.resolve(__dirname, \"../utils/\")\n});\n\nmoduleAlias();\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1540326883925
  },
  "{\"sourceRoot\":\"/home/ayoub/Documents/newStructure/new-frontend/src/server\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/ayoub/Documents/newStructure/new-frontend\",\"filename\":\"/home/ayoub/Documents/newStructure/new-frontend/src/server/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"server\",\"root\":\"/home/ayoub/Documents/newStructure/new-frontend\",\"plugins\":[],\"presets\":[]}:7.1.2:server": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/ayoub/Documents/newStructure/new-frontend/src/server",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/ayoub/Documents/newStructure/new-frontend",
      "filename": "/home/ayoub/Documents/newStructure/new-frontend/src/server/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "server",
      "root": "/home/ayoub/Documents/newStructure/new-frontend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/ayoub/Documents/newStructure/new-frontend/src/server/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/home/ayoub/Documents/newStructure/new-frontend/src/server/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/ayoub/Documents/newStructure/new-frontend/src/server",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "import express from \"express\";\nimport engineIO from \"engine.io\";\nimport Primus from \"primus\";\nimport binaryPack from \"ff-utils/binarypack\";\nimport http from \"http\";\nimport compression from \"compression\";\nimport bodyParser from \"body-parser\";\nimport Emitter from \"primus-emitter\";\nimport Multiplex from \"primus-multiplex\";\nimport Substream from \"substream\";\nimport cookieParser from \"cookie-parser\";\nimport config from \"config\";\nimport cors from \"cors\";\nimport _ from \"lodash\";\nimport Boom from \"ff-utils/boom\";\nimport { renderAdmin } from \"ff-utils/renderPage\";\nimport Dist from \"ff-utils/dist\";\nimport ioRoutes from \"./io/index\";\nimport apiRoute from \"./api.route\";\nimport { sessionM, PassportM, PassportSession } from \"ff-utils/sessionStore\";\nimport httpsRedirect from \"ff-utils/redirect\";\nconst App = express();\nconst Router = express.Router();\nDist(App);\nconst httpServer = http.createServer(App);\nconst io = new Primus(httpServer, {\n  transformer: \"engine.io\",\n  parser: binaryPack\n});\nconst parseMyCookies = cookieParser(config.redis.secret);\nApp.use(compression()).use(bodyParser.json()).use(bodyParser.urlencoded({\n  extended: true\n})).use(parseMyCookies).use(sessionM).use(PassportM).use(PassportSession).use(Boom());\nApp.use('/api', apiRoute); // render html page with server side componenets using redux\n\nApp.use(\"/\", httpsRedirect(false, [\"/-/d/\", \"/record\", \"/cleaning\"])).use(\"/-/d/\", renderAdmin) // .use(\"/record\", renderRS)\n// .use(\"/cleaning\", renderCS)\n.disable(\"x-powered-by\");\nio.use(\"session\", (req, res, next) => {\n  sessionM(req, {}, next);\n});\nio.use(\"passport\", (req, res, next) => {\n  PassportM(req, {}, next);\n});\nio.plugin(\"multiplex\", Multiplex).plugin(\"emitter\", Emitter).plugin(\"substream\", Substream); // Save primus client library\n\nio.save(__dirname + \"/../../public/js/primus.js\");\n/**\n * Create premius client to connect to backend server.\n */\n\nconst Socket = Primus.createSocket({\n  transformer: \"engine.io\",\n  parser: binaryPack,\n  plugin: {\n    emitter: Emitter,\n    multiplex: Multiplex,\n    substream: Substream\n  }\n});\nconst ioClient = new Socket(config.socketServer); // Socket middleware to share session between express and socket\n\nioRoutes(io, ioClient);\nconst server = httpServer.listen(config.server.port, () => {\n  const host = server.address().address;\n  const port = server.address().port;\n  console.log(\"Example app listening at http://%s:%s\", host, port);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJlbmdpbmVJTyIsIlByaW11cyIsImJpbmFyeVBhY2siLCJodHRwIiwiY29tcHJlc3Npb24iLCJib2R5UGFyc2VyIiwiRW1pdHRlciIsIk11bHRpcGxleCIsIlN1YnN0cmVhbSIsImNvb2tpZVBhcnNlciIsImNvbmZpZyIsImNvcnMiLCJfIiwiQm9vbSIsInJlbmRlckFkbWluIiwiRGlzdCIsImlvUm91dGVzIiwiYXBpUm91dGUiLCJzZXNzaW9uTSIsIlBhc3Nwb3J0TSIsIlBhc3Nwb3J0U2Vzc2lvbiIsImh0dHBzUmVkaXJlY3QiLCJBcHAiLCJSb3V0ZXIiLCJodHRwU2VydmVyIiwiY3JlYXRlU2VydmVyIiwiaW8iLCJ0cmFuc2Zvcm1lciIsInBhcnNlciIsInBhcnNlTXlDb29raWVzIiwicmVkaXMiLCJzZWNyZXQiLCJ1c2UiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZGlzYWJsZSIsInJlcSIsInJlcyIsIm5leHQiLCJwbHVnaW4iLCJzYXZlIiwiX19kaXJuYW1lIiwiU29ja2V0IiwiY3JlYXRlU29ja2V0IiwiZW1pdHRlciIsIm11bHRpcGxleCIsInN1YnN0cmVhbSIsImlvQ2xpZW50Iiwic29ja2V0U2VydmVyIiwic2VydmVyIiwibGlzdGVuIiwicG9ydCIsImhvc3QiLCJhZGRyZXNzIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsT0FBUCxNQUFvQixTQUFwQjtBQUNBLE9BQU9DLFFBQVAsTUFBcUIsV0FBckI7QUFDQSxPQUFPQyxNQUFQLE1BQW1CLFFBQW5CO0FBQ0EsT0FBT0MsVUFBUCxNQUF1QixxQkFBdkI7QUFDQSxPQUFPQyxJQUFQLE1BQWlCLE1BQWpCO0FBQ0EsT0FBT0MsV0FBUCxNQUF3QixhQUF4QjtBQUNBLE9BQU9DLFVBQVAsTUFBdUIsYUFBdkI7QUFDQSxPQUFPQyxPQUFQLE1BQW9CLGdCQUFwQjtBQUNBLE9BQU9DLFNBQVAsTUFBc0Is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RnlCO0FBR2pDc0MsRUFBQUEsTUFBTSxFQUFFO0FBQ05LLElBQUFBLE9BQU8sRUFBRXZDLE9BREg7QUFFTndDLElBQUFBLFNBQVMsRUFBRXZDLFNBRkw7QUFHTndDLElBQUFBLFNBQVMsRUFBRXZDO0FBSEw7QUFIeUIsQ0FBcEIsQ0FBZjtBQVNBLE1BQU13QyxRQUFRLEdBQUcsSUFBSUwsTUFBSixDQUFXakMsTUFBTSxDQUFDdUMsWUFBbEIsQ0FBakIsQyxDQUVBOztBQUNBakMsUUFBUSxDQUFDVSxFQUFELEVBQUtzQixRQUFMLENBQVI7QUFFQSxNQUFNRSxNQUFNLEdBQUcxQixVQUFVLENBQUMyQixNQUFYLENBQWtCekMsTUFBTSxDQUFDd0MsTUFBUCxDQUFjRSxJQUFoQyxFQUFzQyxNQUFNO0FBQ3pELFFBQU1DLElBQUksR0FBR0gsTUFBTSxDQUFDSSxPQUFQLEdBQWlCQSxPQUE5QjtBQUNBLFFBQU1GLElBQUksR0FBR0YsTUFBTSxDQUFDSSxPQUFQLEdBQWlCRixJQUE5QjtBQUNBRyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1Q0FBWixFQUFxREgsSUFBckQsRUFBMkRELElBQTNEO0FBQ0QsQ0FKYyxDQUFmIiwic291cmNlUm9vdCI6Ii9ob21lL2F5b3ViL0RvY3VtZW50cy9uZXdTdHJ1Y3R1cmUvbmV3LWZyb250ZW5kL3NyYy9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGVuZ2luZUlPIGZyb20gXCJlbmdpbmUuaW9cIjtcbmltcG9ydCBQcmltdXMgZnJvbSBcInByaW11c1wiO1xuaW1wb3J0IGJpbmFyeVBhY2sgZnJvbSBcImZmLXV0aWxzL2JpbmFyeXBhY2tcIjtcbmltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XG5pbXBvcnQgY29tcHJlc3Npb24gZnJvbSBcImNvbXByZXNzaW9uXCI7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcbmltcG9ydCBFbWl0dGVyIGZyb20gXCJwcmltdXMtZW1pdHRlclwiO1xuaW1wb3J0IE11bHRpcGxleCBmcm9tIFwicHJpbXVzLW11bHRpcGxleFwiO1xuaW1wb3J0IFN1YnN0cmVhbSBmcm9tIFwic3Vic3RyZWFtXCI7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gXCJjb29raWUtcGFyc2VyXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCJjb25maWdcIjtcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgQm9vbSBmcm9tIFwiZmYtdXRpbHMvYm9vbVwiO1xuaW1wb3J0IHsgcmVuZGVyQWRtaW4gfSBmcm9tIFwiZmYtdXRpbHMvcmVuZGVyUGFnZVwiO1xuaW1wb3J0IERpc3QgZnJvbSBcImZmLXV0aWxzL2Rpc3RcIjtcbmltcG9ydCBpb1JvdXRlcyBmcm9tIFwiLi9pby9pbmRleFwiO1xuaW1wb3J0IGFwaVJvdXRlIGZyb20gXCIuL2FwaS5yb3V0ZVwiO1xuaW1wb3J0IHsgc2Vzc2lvbk0sIFBhc3Nwb3J0TSwgUGFzc3BvcnRTZXNzaW9uIH0gZnJvbSBcImZmLXV0aWxzL3Nlc3Npb25TdG9yZVwiO1xuaW1wb3J0IGh0dHBzUmVkaXJlY3QgZnJvbSBcImZmLXV0aWxzL3JlZGlyZWN0XCI7XG5jb25zdCBBcHAgPSBleHByZXNzKCk7XG5jb25zdCBSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuRGlzdChBcHApO1xuY29uc3QgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKEFwcCk7XG5jb25zdCBpbyA9IG5ldyBQcmltdXMoaHR0cFNlcnZlciwge1xuICB0cmFuc2Zvcm1lcjogXCJlbmdpbmUuaW9cIixcbiAgcGFyc2VyOiBiaW5hcnlQYWNrXG59KTtcblxuY29uc3QgcGFyc2VNeUNvb2tpZXMgPSBjb29raWVQYXJzZXIoY29uZmlnLnJlZGlzLnNlY3JldCk7XG5cbkFwcC51c2UoY29tcHJlc3Npb24oKSlcbiAgLnVzZShib2R5UGFyc2VyLmpzb24oKSlcbiAgLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSlcbiAgLnVzZShwYXJzZU15Q29va2llcylcbiAgLnVzZShzZXNzaW9uTSlcbiAgLnVzZShQYXNzcG9ydE0pXG4gIC51c2UoUGFzc3BvcnRTZXNzaW9uKVxuICAudXNlKEJvb20oKSk7XG5cbkFwcC51c2UoJy9hcGknLCBhcGlSb3V0ZSk7XG4vLyByZW5kZXIgaHRtbCBwYWdlIHdpdGggc2VydmVyIHNpZGUgY29tcG9uZW5ldHMgdXNpbmcgcmVkdXhcbkFwcC51c2UoXCIvXCIsIGh0dHBzUmVkaXJlY3QoZmFsc2UsIFtcIi8tL2QvXCIsIFwiL3JlY29yZFwiLCBcIi9jbGVhbmluZ1wiXSkpXG4gIC51c2UoXCIvLS9kL1wiLCByZW5kZXJBZG1pbilcbiAgLy8gLnVzZShcIi9yZWNvcmRcIiwgcmVuZGVyUlMpXG4gIC8vIC51c2UoXCIvY2xlYW5pbmdcIiwgcmVuZGVyQ1MpXG4gIC5kaXNhYmxlKFwieC1wb3dlcmVkLWJ5XCIpO1xuXG5pby51c2UoXCJzZXNzaW9uXCIsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBzZXNzaW9uTShyZXEsIHt9LCBuZXh0KTtcbn0pO1xuXG5pby51c2UoXCJwYXNzcG9ydFwiLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgUGFzc3BvcnRNKHJlcSwge30sIG5leHQpO1xufSk7XG5cbmlvLnBsdWdpbihcIm11bHRpcGxleFwiLCBNdWx0aXBsZXgpXG4gIC5wbHVnaW4oXCJlbWl0dGVyXCIsIEVtaXR0ZXIpXG4gIC5wbHVnaW4oXCJzdWJzdHJlYW1cIiwgU3Vic3RyZWFtKTtcblxuXG5cbi8vIFNhdmUgcHJpbXVzIGNsaWVudCBsaWJyYXJ5XG5pby5zYXZlKF9fZGlybmFtZSArIFwiLy4uLy4uL3B1YmxpYy9qcy9wcmltdXMuanNcIik7XG5cbi8qKlxuICogQ3JlYXRlIHByZW1pdXMgY2xpZW50IHRvIGNvbm5lY3QgdG8gYmFja2VuZCBzZXJ2ZXIuXG4gKi9cbmNvbnN0IFNvY2tldCA9IFByaW11cy5jcmVhdGVTb2NrZXQoe1xuICB0cmFuc2Zvcm1lcjogXCJlbmdpbmUuaW9cIixcbiAgcGFyc2VyOiBiaW5hcnlQYWNrLFxuICBwbHVnaW46IHtcbiAgICBlbWl0dGVyOiBFbWl0dGVyLFxuICAgIG11bHRpcGxleDogTXVsdGlwbGV4LFxuICAgIHN1YnN0cmVhbTogU3Vic3RyZWFtXG4gIH1cbn0pO1xuY29uc3QgaW9DbGllbnQgPSBuZXcgU29ja2V0KGNvbmZpZy5zb2NrZXRTZXJ2ZXIpO1xuXG4vLyBTb2NrZXQgbWlkZGxld2FyZSB0byBzaGFyZSBzZXNzaW9uIGJldHdlZW4gZXhwcmVzcyBhbmQgc29ja2V0XG5pb1JvdXRlcyhpbywgaW9DbGllbnQpO1xuXG5jb25zdCBzZXJ2ZXIgPSBodHRwU2VydmVyLmxpc3Rlbihjb25maWcuc2VydmVyLnBvcnQsICgpID0+IHtcbiAgY29uc3QgaG9zdCA9IHNlcnZlci5hZGRyZXNzKCkuYWRkcmVzcztcbiAgY29uc3QgcG9ydCA9IHNlcnZlci5hZGRyZXNzKCkucG9ydDtcbiAgY29uc29sZS5sb2coXCJFeGFtcGxlIGFwcCBsaXN0ZW5pbmcgYXQgaHR0cDovLyVzOiVzXCIsIGhvc3QsIHBvcnQpO1xufSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "engineIO",
        "Primus",
        "binaryPack",
        "http",
        "compression",
        "bodyParser",
        "Emitter",
        "Multiplex",
        "Substream",
        "cookieParser",
        "config",
        "cors",
        "_",
        "Boom",
        "renderAdmin",
        "Dist",
        "ioRoutes",
        "apiRoute",
        "sessionM",
        "PassportM",
        "PassportSession",
        "httpsRedirect",
        "App",
        "Router",
        "httpServer",
        "createServer",
        "io",
        "transformer",
        "parser",
        "parseMyCookies",
        "redis",
        "secret",
        "use",
        "json",
        "urlencoded",
        "extended",
        "disable",
        "req",
        "res",
        "next",
        "plugin",
        "save",
        "__dirname",
        "Socket",
        "createSocket",
        "emitter",
        "multiplex",
        "substream",
        "ioClient",
        "socketServer",
        "server",
        "listen",
        "port",
        "host",
        "address",
        "console",
        "log"
      ],
      "mappings": "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",
      "sourceRoot": "/home/ayoub/Documents/newStructure/new-frontend/src/server",
      "sourcesContent": [
        "import express from \"express\";\nimport engineIO from \"engine.io\";\nimport Primus from \"primus\";\nimport binaryPack from \"ff-utils/binarypack\";\nimport http from \"http\";\nimport compression from \"compression\";\nimport bodyParser from \"body-parser\";\nimport Emitter from \"primus-emitter\";\nimport Multiplex from \"primus-multiplex\";\nimport Substream from \"substream\";\nimport cookieParser from \"cookie-parser\";\nimport config from \"config\";\nimport cors from \"cors\";\nimport _ from \"lodash\";\nimport Boom from \"ff-utils/boom\";\nimport { renderAdmin } from \"ff-utils/renderPage\";\nimport Dist from \"ff-utils/dist\";\nimport ioRoutes from \"./io/index\";\nimport apiRoute from \"./api.route\";\nimport { sessionM, PassportM, PassportSession } from \"ff-utils/sessionStore\";\nimport httpsRedirect from \"ff-utils/redirect\";\nconst App = express();\nconst Router = express.Router();\nDist(App);\nconst httpServer = http.createServer(App);\nconst io = new Primus(httpServer, {\n  transformer: \"engine.io\",\n  parser: binaryPack\n});\n\nconst parseMyCookies = cookieParser(config.redis.secret);\n\nApp.use(compression())\n  .use(bodyParser.json())\n  .use(bodyParser.urlencoded({ extended: true }))\n  .use(parseMyCookies)\n  .use(sessionM)\n  .use(PassportM)\n  .use(PassportSession)\n  .use(Boom());\n\nApp.use('/api', apiRoute);\n// render html page with server side componenets using redux\nApp.use(\"/\", httpsRedirect(false, [\"/-/d/\", \"/record\", \"/cleaning\"]))\n  .use(\"/-/d/\", renderAdmin)\n  // .use(\"/record\", renderRS)\n  // .use(\"/cleaning\", renderCS)\n  .disable(\"x-powered-by\");\n\nio.use(\"session\", (req, res, next) => {\n  sessionM(req, {}, next);\n});\n\nio.use(\"passport\", (req, res, next) => {\n  PassportM(req, {}, next);\n});\n\nio.plugin(\"multiplex\", Multiplex)\n  .plugin(\"emitter\", Emitter)\n  .plugin(\"substream\", Substream);\n\n\n\n// Save primus client library\nio.save(__dirname + \"/../../public/js/primus.js\");\n\n/**\n * Create premius client to connect to backend server.\n */\nconst Socket = Primus.createSocket({\n  transformer: \"engine.io\",\n  parser: binaryPack,\n  plugin: {\n    emitter: Emitter,\n    multiplex: Multiplex,\n    substream: Substream\n  }\n});\nconst ioClient = new Socket(config.socketServer);\n\n// Socket middleware to share session between express and socket\nioRoutes(io, ioClient);\n\nconst server = httpServer.listen(config.server.port, () => {\n  const host = server.address().address;\n  const port = server.address().port;\n  console.log(\"Example app listening at http://%s:%s\", host, port);\n});\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1540222352343
  }
}